# Environment Configuration for TeamMove
# Copy this file to .env and fill in your actual values

# Application Environment
NODE_ENV=development
PORT=8080
APP_URL=https://teammove.onrender.com

# Database Configuration
# For local development: Use your local PostgreSQL
# For Render: Use Render PostgreSQL or external database
DATABASE_URL=postgresql://neondb_owner:npg_kRUjHg1NJrI5@ep-muddy-violet-afg3rsgr-pooler.c-2.us-west-2.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# Security - JWT Configuration
# Generate strong random strings for production (use openssl rand -base64 32)
JWT_ACCESS_SECRET=DCp63F0HccrzmwdvZ9Xb5GnklYyWYFv6iU+iGe/K0kI=
JWT_REFRESH_SECRET=7K8YnJpHfQ+2ZxMqRsWv3CwE9AuLmPtB6DkGhNfTjUv=

# JWT Token Expiry Times
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# JWT Issuer
JWT_ISSUER=TeamMove

# Legacy Session Secret (for migration purposes)
SESSION_SECRET=DCp63F0HccrzmwdvZ9Xb5GnklYyWYFv6iU+iGe/K0kI=

# SendGrid Email Service Configuration
# Get these from https://sendgrid.com/
SENDGRID_API_KEY=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
SENDGRID_FROM_EMAIL=alt.f7-3ywk4mu@yopmail.com
SENDGRID_FROM_NAME=TeamMove

# OpenAI Configuration (Optional)
# For AI-powered features, get from https://platform.openai.com/
OPENAI_API_KEY=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

# Stripe Configuration (MODERNIZED - for new payment system)
# Get these from https://stripe.com/
# Test keys (for development)
STRIPE_SECRET_KEY=sk_test_51S3zPW8XM0zNL8ZMOwNztkR4s6cANPeVOKZBg1Qe4zVxbE1y0y7zNx4vLUGCLPNF6iTIEYRKfssMlcJiR6SnY5V500phodazFt
STRIPE_PUBLISHABLE_TEST_KEY=pk_test_51S3zPW8XM0zNL8ZMhdeyjgfrp4eKmTmzKRMqRENFwKoUjfSByTeGfWXfcf6Vr6FF9FJSBauMvjTp6cnDFDJwfPxN00VrImPBXj

# Production keys (for live environment)
# STRIPE_SECRET_KEY=sk_live_...
# STRIPE_PUBLISHABLE_KEY=pk_live_...

# Webhook secret for secure webhook handling
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# NEW SUBSCRIPTION SYSTEM - Stripe Price IDs
# Create these products/prices in your Stripe dashboard
# Event packages (one-time payments)
STRIPE_EVENEMENTIELLE_SINGLE_PRICE_ID=price_...  # 15€ - 1 event pack
STRIPE_EVENEMENTIELLE_PACK10_PRICE_ID=price_...  # 150€ - 10 events pack

# Pro formulas (monthly subscriptions)
STRIPE_PRO_CLUB_PRICE_ID=price_...               # 19.99€/month - Clubs & Associations
STRIPE_PRO_PME_PRICE_ID=price_...                # 49€/month - SME
STRIPE_PRO_ENTREPRISE_PRICE_ID=price_...         # 99€/month - Large Enterprise

# Frontend Stripe public key
VITE_STRIPE_PUBLIC_KEY=pk_test_51S3zPW8XM0zNL8ZMhdeyjgfrp4eKmTmzKRMqRENFwKoUjfSByTeGfWXfcf6Vr6FF9FJSBauMvjTp6cnDFDJwfPxN00VrImPBXj

# Legacy Stripe configurations (deprecated, will be removed)
# STRIPE_PREMIUM_MONTHLY_PRICE_ID=price_... # DEPRECATED
# STRIPE_PREMIUM_ANNUAL_PRICE_ID=price_... # DEPRECATED

# Admin Configuration
ADMIN_EMAIL=admin@TeamMove.app

# Admin Creation Security
ALLOW_ADMIN_CREATION=true  # Pour activer l'inscription admin en production
ADMIN_CREATION_SECRET=dev-admin-secret-2024  # Clé secrète pour sécuriser l'inscription admin

# Subscription & Billing Configuration
# Email notifications for subscription events
SUBSCRIPTION_EMAIL_NOTIFICATIONS=true

# Reminder settings (in days before expiration)
SUBSCRIPTION_REMINDER_DAYS=7,3,1

# Scheduler Configuration
# Enable/disable automatic subscription checks
SCHEDULER_ENABLED=true

# Background task intervals (cron format)
SCHEDULER_EXPIRED_CHECK=0 9 * * *  # Daily at 9:00 AM
SCHEDULER_REMINDERS=0 10 * * *     # Daily at 10:00 AM
SCHEDULER_CLEANUP=0 2 * * 0        # Weekly on Sunday at 2:00 AM

# Render.com Specific Variables (for production)
# These are set automatically by Render, but can be overridden:
# RENDER_SERVICE_NAME=TeamMove-app
# RENDER_EXTERNAL_URL=https://TeamMove-app.onrender.com
# RENDER_INTERNAL_HOSTNAME=TeamMove-app
# RENDER_SERVICE_TYPE=web

# Development Tools
# Set to true to enable detailed logging
DEBUG=false
VERBOSE_LOGS=false